<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>èª²ç¨‹å ±åç³»çµ±</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">
    <div class="topbar">
        <h1>{{ year }} / {{ month }} èª²ç¨‹æœˆæ›†</h1>

        <form method="get">
            <input type="month" name="month" value="{{ month_str }}">
            <button>åˆ‡æ›æœˆä»½</button>
        </form>
    </div>

    <p>
        <span class="badge">ä¸Šåˆèª²ç¨‹ï¼šè—è‰²</span>
        <span class="badge">ä¸‹åˆèª²ç¨‹ï¼šæ©˜è‰²</span>
    </p>

    <table>
        <tr>
            <th>ä¸€</th><th>äºŒ</th><th>ä¸‰</th>
            <th>å››</th><th>äº”</th><th>å…­</th><th>æ—¥</th>
        </tr>

        {% for week in cal %}
        <tr>
            {% for day in week %}
            <td style="width: 14.28%;">
                {% if day != 0 %}
                    <strong>{{ day }}</strong>

                    {% for c in courses.get(day, []) %}
                        <div class="course-box {{ c.session_type }}">
                            <div><strong>{{ c.course_name }}</strong></div>
                            <div>ğŸ•’ {{ c.start_time }} - {{ c.end_time }}</div>
                            <div>å‰©é¤˜ï¼š{{ c.remaining }}</div>

                            {% if c.remaining > 0 %}
                                <a href="/register/{{ c.id }}">å ±å</a>
                            {% else %}
                                <span class="full">é¡æ»¿ ğŸ”’</span>
                            {% endif %}
                        </div>
                    {% endfor %}
                {% endif %}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <br>
    <a href="/login">ç®¡ç†è€…ç™»å…¥</a>
</div>

</body>
</html>
